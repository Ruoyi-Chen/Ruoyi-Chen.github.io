<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>ğŸ’™ JDBC(1)ï½œè·å–æ•°æ®åº“è¿æ¥çš„äº”ç§æ–¹æ³• | Chen Ruoyi </title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://ruoyi-chen.github.io/favicon.ico?v=1636131173033">
<link rel="stylesheet" href="https://ruoyi-chen.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="
è·å–æ•°æ®åº“è¿æ¥çš„äº”ç§æ–¹æ³•

æ–¹æ³•1ï¼š Diver -&gt; æ„é€ connectionæ”¾å…¥urlå’Œinfo
æ–¹æ³•2: ä½¿ç”¨åå°„åŠ¨æ€è·å–Driverç±»å¯¹è±¡
æ–¹æ³•3: ä½¿ç”¨DriverManageræ›¿æ¢Driver
æ–¹æ³•4: ä¼˜åŒ–æ–¹æ³•ä¸‰ï¼šå¯ä»¥..." />
    <meta name="keywords" content="JDBC" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://ruoyi-chen.github.io">
        <img src="https://ruoyi-chen.github.io/images/avatar.png?v=1636131173033" class="site-logo">
        <h1 class="site-title">Chen Ruoyi </h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            Home ğŸ 
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            Notes ğŸ“’
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            Folder ğŸ’¼
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            About ğŸ’
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      Per Aspera Ad Astra | å¾ªæ­¤è‹¦æ—…ï¼Œä»¥è¾¾å¤©é™…
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://ruoyi-chen.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">ğŸ’™ JDBC(1)ï½œè·å–æ•°æ®åº“è¿æ¥çš„äº”ç§æ–¹æ³•</h2>
            <div class="post-date">2021-11-04</div>
            
              <div class="feature-container" style="background-image: url('https://ruoyi-chen.github.io/post-images/this-is-cherry.png')">
              </div>
            
            <div class="post-content" v-pre>
              <p><ul class="markdownIt-TOC">
<li><a href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E7%9A%84%E4%BA%94%E7%A7%8D%E6%96%B9%E6%B3%95">è·å–æ•°æ®åº“è¿æ¥çš„äº”ç§æ–¹æ³•</a>
<ul>
<li><a href="#%E6%96%B9%E6%B3%951-diver-%E6%9E%84%E9%80%A0connection%E6%94%BE%E5%85%A5url%E5%92%8Cinfo">æ–¹æ³•1ï¼š Diver -&gt; æ„é€ connectionæ”¾å…¥urlå’Œinfo</a></li>
<li><a href="#%E6%96%B9%E6%B3%952-%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E5%8A%A8%E6%80%81%E8%8E%B7%E5%8F%96driver%E7%B1%BB%E5%AF%B9%E8%B1%A1">æ–¹æ³•2: ä½¿ç”¨åå°„åŠ¨æ€è·å–Driverç±»å¯¹è±¡</a></li>
<li><a href="#%E6%96%B9%E6%B3%953-%E4%BD%BF%E7%94%A8drivermanager%E6%9B%BF%E6%8D%A2driver">æ–¹æ³•3: ä½¿ç”¨DriverManageræ›¿æ¢Driver</a></li>
<li><a href="#%E6%96%B9%E6%B3%954-%E4%BC%98%E5%8C%96%E6%96%B9%E6%B3%95%E4%B8%89%E5%8F%AF%E4%BB%A5%E5%8F%AA%E5%8A%A0%E8%BD%BD%E9%A9%B1%E5%8A%A8%E4%B8%8D%E7%94%A8%E6%98%BE%E7%A4%BA%E5%9C%B0%E6%B3%A8%E5%86%8C%E9%A9%B1%E5%8A%A8%E4%BA%86">æ–¹æ³•4: ä¼˜åŒ–æ–¹æ³•ä¸‰ï¼šå¯ä»¥åªåŠ è½½é©±åŠ¨ï¼Œä¸ç”¨æ˜¾ç¤ºåœ°æ³¨å†Œé©±åŠ¨äº†ã€‚</a></li>
<li><a href="#%E6%96%B9%E6%B3%955-final%E7%89%88%E6%9C%AC">æ–¹æ³•5: finalç‰ˆæœ¬</a></li>
</ul>
</li>
</ul>
</p>
<h1 id="è·å–æ•°æ®åº“è¿æ¥çš„äº”ç§æ–¹æ³•">è·å–æ•°æ®åº“è¿æ¥çš„äº”ç§æ–¹æ³•</h1>
<p>Note: ä»¥ä¸‹æ–¹æ³•ä¸ºäº†çœ‹ç€ç®€ä»‹éƒ½ç”¨äº†throws exceptionï¼Œæœ€å¥½ç”¨try-catchåŒ…ä¸€ä¸‹ã€‚</p>
<h2 id="æ–¹æ³•1-diver-æ„é€ connectionæ”¾å…¥urlå’Œinfo">æ–¹æ³•1ï¼š Diver -&gt; æ„é€ connectionæ”¾å…¥urlå’Œinfo</h2>
<pre><code>- urlåœ¨Driverçš„æºç é‡Œé¢å¯ä»¥æ‰¾åˆ°ï¼š&quot;jdbc:mysql://localhost:3306/test&quot;
- setPropertyï¼šæ”¾å…¥userå’Œpassword
</code></pre>
<pre><code class="language-java">    @Test
    public void testConnection1() throws Exception {
        Driver driver = new com.mysql.cj.jdbc.Driver();

        //url: http://localhost:8080/gmall/keyboard.jpg
        //jdbc:mysqlåè®®
        //localhost:ipåœ°å€
        //3306:é»˜è®¤mysqlç«¯å£å·
        //testï¼štestæ•°æ®åº“
        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;
        //å°†ç”¨æˆ·åå’Œå¯†ç å°è£…åœ¨Propertiesä¸­
        Properties info =new Properties();
        info.setProperty(&quot;user&quot;,&quot;root&quot;);
        info.setProperty(&quot;password&quot;,&quot;aaa123&quot;);

        Connection conn = driver.connect(url, info);

        System.out.println(conn);
    }
</code></pre>
<h2 id="æ–¹æ³•2-ä½¿ç”¨åå°„åŠ¨æ€è·å–driverç±»å¯¹è±¡">æ–¹æ³•2: ä½¿ç”¨åå°„åŠ¨æ€è·å–Driverç±»å¯¹è±¡</h2>
<p>å› ä¸ºæˆ‘ä»¬å¯èƒ½éœ€è¦æ¢æˆOracleæˆ–å…¶ä»–çš„æ•°æ®åº“ï¼Œæ‰€ä»¥åŠ¨æ€çš„å»è°ƒDriverå¯¹è±¡å¯ä»¥ä½¿ä»£ç æ›´æœ‰å¯æ‰©å±•æ€§ã€‚</p>
<pre><code class="language-java">    public void testConnection2() throws Exception {
        //1. è·å–Driverå®ç°ç±»å¯¹è±¡ï¼Œä½¿ç”¨åå°„
        Class clazz = Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);
        Driver driver = (Driver) clazz.newInstance();

        //2.æä¾›è¦é“¾æ¥çš„æ•°æ®åº“
        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;

        //3.æä¾›é“¾æ¥éœ€è¦çš„ç”¨æˆ·åå’Œå¯†ç 
        Properties info =new Properties();
        info.setProperty(&quot;user&quot;,&quot;root&quot;);
        info.setProperty(&quot;password&quot;,&quot;aaa123&quot;);

        //4.è·å–é“¾æ¥
        Connection conn = driver.connect(url, info);
        System.out.println(conn);
    }
</code></pre>
<h2 id="æ–¹æ³•3-ä½¿ç”¨drivermanageræ›¿æ¢driver">æ–¹æ³•3: ä½¿ç”¨DriverManageræ›¿æ¢Driver</h2>
<pre><code class="language-java">    public void testConnection3() throws Exception {
        //1ã€‚è·å–Driverå®ç°ç±»å¯¹è±¡
        Class clazz = Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);
        Driver driver = (Driver) clazz.newInstance();

        //2ï¼Œæä¾›å¦å¤–ä¸‰ä¸ªé“¾æ¥çš„åŸºæœ¬ä¿¡æ¯
        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;
        String user = &quot;root&quot;;
        String password = &quot;aaa123&quot;;

        //æ³¨å†Œé©±åŠ¨
        DriverManager.registerDriver(driver);

        //è·å–é“¾æ¥
        Connection conn = DriverManager.getConnection(url, user, password);
        System.out.println(conn);
    }
</code></pre>
<h2 id="æ–¹æ³•4-ä¼˜åŒ–æ–¹æ³•ä¸‰å¯ä»¥åªåŠ è½½é©±åŠ¨ä¸ç”¨æ˜¾ç¤ºåœ°æ³¨å†Œé©±åŠ¨äº†">æ–¹æ³•4: ä¼˜åŒ–æ–¹æ³•ä¸‰ï¼šå¯ä»¥åªåŠ è½½é©±åŠ¨ï¼Œä¸ç”¨æ˜¾ç¤ºåœ°æ³¨å†Œé©±åŠ¨äº†ã€‚</h2>
<p>è¿™æ˜¯å› ä¸ºåœ¨è½½å…¥æ—¶å·²ç»æ³¨å†Œäº†ã€‚</p>
<pre><code class="language-java">    public void testConnection4() throws Exception {
        //1ï¼Œæä¾›å¦å¤–ä¸‰ä¸ªé“¾æ¥çš„åŸºæœ¬ä¿¡æ¯
        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;
        String user = &quot;root&quot;;
        String password = &quot;aaa123&quot;;

        //2ã€‚è·å–Driverå®ç°ç±»å¯¹è±¡
        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);
        //è¿™ä¸¤æ­¥å°±ä¸éœ€è¦äº†ï¼š
//        Driver driver = (Driver) clazz.newInstance();
//        //æ³¨å†Œé©±åŠ¨
//        DriverManager.registerDriver(driver);

        //è·å–é“¾æ¥
        Connection conn = DriverManager.getConnection(url, user, password);
        System.out.println(conn);
    }
}
</code></pre>
<h2 id="æ–¹æ³•5-finalç‰ˆæœ¬">æ–¹æ³•5: finalç‰ˆæœ¬</h2>
<p>é…ç½®ä¿¡æ¯æœ€å¥½ä¸è¦ä»¥ç¡¬å®šä¹‰çš„æ–¹å¼å†™ï¼Œæœ€å¥½å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶ååŠ è½½è¿›ä»£ç ä¸­ã€‚</p>
<ul>
<li>é…ç½®Properties<br>
æ³¨æ„ï¼šPropertiesé‡Œå·¦å³ç­‰å·ä¸è¦æœ‰ç©ºæ ¼<br>
æ–°å»ºä¸€ä¸ªFileï¼šjdbc.properties</li>
</ul>
<pre><code class="language-java">user=root
password=aaa123
url=jdbc:mysql://localhost::3306/test
driverClass=com.jdbc.cj.mysql.Driver
</code></pre>
<pre><code class="language-java">public void testConnection5() throws Exception {
        //1.è¯»å–é…ç½®æ–‡ä»¶ä¸­çš„4ä¸ªåŸºæœ¬ä¿¡æ¯
        InputStream is = ConnectionTest.class.getClassLoader().getResourceAsStream(&quot;jdbc.properties&quot;);

        Properties pros = new Properties();
        pros.load(is);

        String user = pros.getProperty(&quot;user&quot;);
        String password = pros.getProperty(&quot;password&quot;);
        String url = pros.getProperty(&quot;url&quot;);
        String driverClass = pros.getProperty(&quot;driverClass&quot;);

        //2.åŠ è½½é©±åŠ¨
        Class.forName(driverClass);

        //3.è·å–è¿æ¥
        Connection conn = DriverManager.getConnection(url, user, password);
        System.out.println(conn);
    }
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://ruoyi-chen.github.io/tag/E6to-f9lt/" class="tag">
                    JDBC
                  </a>
                
              </div>
            
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
