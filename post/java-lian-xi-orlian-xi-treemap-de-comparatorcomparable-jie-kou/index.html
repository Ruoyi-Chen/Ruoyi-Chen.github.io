<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>ğŸ§¡ Javaç»ƒä¹  ï½œç»ƒä¹ TreeMapçš„Comparatorã€Comparableæ¥å£ | Chen Ruoyi </title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://ruoyi-chen.github.io/favicon.ico?v=1636195003616">
<link rel="stylesheet" href="https://ruoyi-chen.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="
æœ‰8ä¸ªæ˜¾ç¤ºå™¨ï¼Œå…¶å±æ€§æœ‰å°ºå¯¸å’Œä»·æ ¼ã€‚ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºï¼Œä½¿ç”¨TreeMap&lt;K,V&gt;ï¼ŒæŒ‰ç…§ä»·æ ¼ä»å¤§åˆ°å°æ’åºè¾“å‡ºæ‰€æœ‰æ˜¾ç¤ºå™¨çš„ä¿¡æ¯ï¼Œè¦æ±‚é€šè¿‡ä¸¤ç§æ–¹å¼å®ç°ï¼šé€šè¿‡å®ç°Comparatoræ¥å£å’Œé€šè¿‡å®ç°Comparableæ¥å£ã€‚

..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://ruoyi-chen.github.io">
        <img src="https://ruoyi-chen.github.io/images/avatar.png?v=1636195003616" class="site-logo">
        <h1 class="site-title">Chen Ruoyi </h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            Home ğŸ 
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            Notes ğŸ“’
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            Folder ğŸ’¼
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            About ğŸ’
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      Per Aspera Ad Astra | å¾ªæ­¤è‹¦æ—…ï¼Œä»¥è¾¾å¤©é™…
    </div>
    <div class="site-footer">
       | <a class="rss" href="https://ruoyi-chen.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">ğŸ§¡ Javaç»ƒä¹  ï½œç»ƒä¹ TreeMapçš„Comparatorã€Comparableæ¥å£</h2>
            <div class="post-date">2021-11-06</div>
            
              <div class="feature-container" style="background-image: url('https://ruoyi-chen.github.io/post-images/java-lian-xi-orlian-xi-treemap-de-comparatorcomparable-jie-kou.png')">
              </div>
            
            <div class="post-content" v-pre>
              <blockquote>
<p>æœ‰8ä¸ªæ˜¾ç¤ºå™¨ï¼Œå…¶å±æ€§æœ‰å°ºå¯¸å’Œä»·æ ¼ã€‚ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºï¼Œä½¿ç”¨TreeMap&lt;K,V&gt;ï¼ŒæŒ‰ç…§ä»·æ ¼ä»å¤§åˆ°å°æ’åºè¾“å‡ºæ‰€æœ‰æ˜¾ç¤ºå™¨çš„ä¿¡æ¯ï¼Œè¦æ±‚é€šè¿‡ä¸¤ç§æ–¹å¼å®ç°ï¼šé€šè¿‡å®ç°Comparatoræ¥å£å’Œé€šè¿‡å®ç°Comparableæ¥å£ã€‚</p>
</blockquote>
<h1 id="ç¨‹åºåˆ†æ">ç¨‹åºåˆ†æ</h1>
<h2 id="treemapç‰¹æ€§">TreeMapç‰¹æ€§</h2>
<ol>
<li>TreeMapå­˜å‚¨Key-Value å¯¹æ—¶ï¼Œéœ€è¦æ ¹æ®key-valueå¯¹è¿›è¡Œæ’åºã€‚TreeMapå¯ä»¥ä¿è¯æ‰€æœ‰çš„Key-Value å¯¹å¤„äºæœ‰åºçŠ¶æ€ã€‚</li>
<li>TreeSetåº•å±‚ä½¿ç”¨çº¢é»‘æ ‘ç»“æ„å­˜å‚¨æ•°æ®</li>
</ol>
<h2 id="treemapçš„keyçš„æ’åº">TreeMapçš„Keyçš„æ’åºï¼š</h2>
<ul>
<li>è‡ªç„¶æ’åºï¼šTreeMapçš„æ‰€æœ‰çš„Key å¿…é¡»å®ç°Comparableæ¥å£ï¼Œè€Œä¸”æ‰€æœ‰çš„Keyåº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºClasssCastException</li>
<li>å®šåˆ¶æ’åºï¼šåˆ›å»ºTreeMapæ—¶ï¼Œä¼ å…¥ä¸€ä¸ªComparator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹TreeMapä¸­çš„æ‰€æœ‰key è¿›è¡Œæ’åºã€‚æ­¤æ—¶ä¸éœ€è¦Map çš„Keyå®ç°Comparable æ¥å£</li>
<li>TreeMapåˆ¤æ–­ä¸¤ä¸ªkeyç›¸ç­‰çš„æ ‡å‡†ï¼šä¸¤ä¸ªkeyé€šè¿‡compareTo()æ–¹æ³•æˆ–è€…compare()æ–¹æ³•è¿”å›0ã€‚</li>
</ul>
<h1 id="æ–¹æ³•1screenå®ç°comparableæ¥å£">æ–¹æ³•1ï¼ŒScreenå®ç°Comparableæ¥å£</h1>
<ol>
<li>Screenå…ˆå£°æ˜fieldsï¼ŒåŒ…æ‹¬privateç±»å‹çš„sizeã€priceï¼Œå®šä¹‰constructorã€setterã€gettingã€é‡å†™toString()</li>
<li>å®ç°Comparableæ¥å£ï¼Œé‡å†™compareTo()æ–¹æ³•ã€‚</li>
</ol>
<ul>
<li>åˆ¤æ–­ä¼ å…¥çš„å¯¹è±¡æ˜¯å¦æ˜¯Screençš„ä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœæ˜¯ï¼š</li>
<li>å–å‡ºå®ä¾‹ä¸­çš„priceè¿›è¡Œæ¯”è¾ƒï¼Œå¤§äºä¸º-1ï¼Œå°äºä¸º1ï¼Œç›¸ç­‰ä¸º0</li>
<li>å¦åˆ™ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼šæ•°æ®ç±»å‹ä¸ä¸€è‡´ã€‚</li>
</ul>
<pre><code class="language-java">import java.util.Scanner;

public class Screen implements Comparable{
   private int size;
   private double price;

   public Screen(int size, double price) {
       this.size = size;
       this.price = price;
   }

   public int getSize() {
       return size;
   }

   public void setSize(int size) {
       this.size = size;
   }

   public double getPrice() {
       return price;
   }

   public void setPrice(double price) {
       this.price = price;
   }

   @Override
   public String toString() {
       return &quot;Screen{&quot; +
               &quot; size='&quot; + size + '\'' +
               &quot;, price=&quot; + price +
               '}';
   }

   @Override
   public int compareTo(Object o) {
       if(o instanceof Screen){
           Screen screen = (Screen) o;
           if(this.price &gt; screen.price){
               return -1;
           }else if (this.price &lt; screen.price){
               return 1;
           }else return 0;
       }
       throw new RuntimeException(&quot;ä¼ å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´ï¼&quot;);
   }
}
</code></pre>
<ul>
<li>æµ‹è¯•</li>
</ul>
<ol>
<li>å®ä¾‹åŒ–ä¸€ä¸ªTreeMap inventoryå’Œå…«ä¸ªscreen</li>
<li>å°† screenæ”¾å…¥inventory</li>
<li>è°ƒç”¨treemapä¸­çš„entrySetï¼Œèµ‹ç»™Set entrySetï¼Œæ¥ç€è°ƒç”¨entrySetçš„interatorè¿›è¡Œè¿­ä»£ã€‚</li>
<li>åœ¨iteratorä¸­ï¼Œå°†iterator.nextå¼ºåˆ¶è½¬æ¢ä¸ºMap.Entryï¼Œç„¶åä½¿ç”¨.getKey(), .getValue()æ–¹æ³•è¾“å‡ºkeyå’Œvalueã€‚</li>
</ol>
<pre><code class="language-java">    @Test
    public void testComparable(){
        TreeMap inventory= new TreeMap();

        Screen screen1 = new Screen(100,2111);
        Screen screen2 = new Screen(200,2112);
        Screen screen3 = new Screen(200,1113);
        Screen screen4 = new Screen(100,9141);
        Screen screen5 = new Screen(100,3151);
        Screen screen6 = new Screen(100,3611);
        Screen screen7 = new Screen(100,2711);
        Screen screen8 = new Screen(100,8111);

        inventory.put(screen1, screen1.getPrice());
        inventory.put(screen2, screen2.getPrice());
        inventory.put(screen3, screen3.getPrice());
        inventory.put(screen4, screen4.getPrice());
        inventory.put(screen5, screen5.getPrice());
        inventory.put(screen6, screen6.getPrice());
        inventory.put(screen7, screen7.getPrice());
        inventory.put(screen8, screen8.getPrice());

        Set entrySet = inventory.entrySet();
        Iterator iterator = entrySet.iterator();
        while (iterator.hasNext()){
            Object obj = iterator.next();
            Map.Entry entry = (Map.Entry) obj;
            System.out.println(entry.getKey()+&quot;---&gt;&quot;+entry.getValue());
        }
    }
</code></pre>
<ul>
<li>ç»“æœ</li>
</ul>
<figure data-type="image" tabindex="1"><img src="https://ruoyi-chen.github.io/post-images/1636136773556.png" alt="" loading="lazy"></figure>
<h1 id="æ–¹æ³•2treemapå®ç°comparator">æ–¹æ³•2ï¼ŒTreeMapå®ç°Comparator</h1>
<ol>
<li>
<p>Screen2çš„åŸºæœ¬è®¾ç½®å’ŒScreenç›¸åŒï¼Œä½†æ˜¯ä¸å®ç°Comparableæ¥å£</p>
</li>
<li>
<p>åœ¨åˆ›å»ºinventoryæ—¶ï¼Œå†™å…¥comparator<br>
åœ¨TreeMapä¸­new Comparatorï¼Œé‡å†™å…¶ä¸­çš„ compare()æ–¹æ³•ã€‚</p>
</li>
</ol>
<ul>
<li>é¦–å…ˆåˆ¤æ–­ä¼ å…¥çš„o1ï¼Œo2æ˜¯å¦ä¸ºScreen2çš„å®ä¾‹</li>
<li>å¦‚æœæ˜¯ï¼Œå°†å…¶è½¬å‹ä¸ºScreen2</li>
<li>ç„¶åè°ƒç”¨Double.compareæ–¹æ³•ï¼Œæ¯”è¾ƒä¸¤è€…çš„price</li>
<li>å¦åˆ™ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼šæ•°æ®ç±»å‹ä¸ä¸€è‡´ã€‚</li>
</ul>
<pre><code class="language-java">    @Test
    public void testComparator(){
        TreeMap inventory= new TreeMap(new Comparator() {
            @Override
            public int compare(Object o1, Object o2) {
                if (o1 instanceof Screen2 &amp;&amp; o2 instanceof Screen2){
                    Screen2 screen1 = (Screen2) o1;
                    Screen2 screen2 = (Screen2) o2;

                    return -Double.compare(screen1.getPrice(), screen2.getPrice());
                }
                throw new RuntimeException(&quot;è¾“å…¥çš„ç±»å‹ä¸åŒ¹é…ï¼&quot;);
            }
        });
        Screen2 screen1 = new Screen2(100,6111);
        Screen2 screen2 = new Screen2(200,2112);
        Screen2 screen3 = new Screen2(240,1113);
        Screen2 screen4 = new Screen2(150,9141);
        Screen2 screen5 = new Screen2(120,3151);
        Screen2 screen6 = new Screen2(110,3611);
        Screen2 screen7 = new Screen2(400,2711);
        Screen2 screen8 = new Screen2(600,8111);

        inventory.put(screen1, screen1.getPrice());
        inventory.put(screen2, screen2.getPrice());
        inventory.put(screen3, screen3.getPrice());
        inventory.put(screen4, screen4.getPrice());
        inventory.put(screen5, screen5.getPrice());
        inventory.put(screen6, screen6.getPrice());
        inventory.put(screen7, screen7.getPrice());
        inventory.put(screen8, screen8.getPrice());

        Set entrySet = inventory.entrySet();
        Iterator iterator = entrySet.iterator();
        while (iterator.hasNext()){
            Object obj = iterator.next();
            Map.Entry entry = (Map.Entry) obj;
            System.out.println(entry.getKey()+&quot;---&gt;&quot;+entry.getValue());
        }
    }
</code></pre>
<ul>
<li>ç»“æœ<br>
<img src="https://ruoyi-chen.github.io/post-images/1636182348217.png" alt="" loading="lazy"></li>
</ul>

            </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://ruoyi-chen.github.io/post/java-lian-xi-or-tian-jia-she-tuan-cheng-yuan-bing-shu-chu-jiao-ji/">
                  <h3 class="post-title">
                    ğŸ§¡ Javaç»ƒä¹  ï½œ æ·»åŠ ç¤¾å›¢æˆå‘˜å¹¶è¾“å‡ºäº¤é›†
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
